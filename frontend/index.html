<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Harry Potter</title>
  <link rel="stylesheet" href="styles/style.css" />
  <link rel="stylesheet" href="styles/layout.css" />
  <link rel="stylesheet" href="styles/hero.css" />
  <link rel="stylesheet" href="styles/exange.css" />
  <link rel="stylesheet" href="styles/authentification.css" />
</head>

<body>
  <header id="header">
    <!-- Header :  -->
    <nav>
      <!-- Navigation :  -->
      <a href="/">
        <img class="logo" src="/images/logo.png" alt="Harry Potter Logo" />
        <!-- Logo avec lien vers la page d'accueil -->
      </a>
      <div class="menu-icon" id="menuIcon">&#9776;</div>
      <!-- Icone du menu burger -->
      <ul class="nav-links">
        <!-- Liste des liens de la navigation -->

        <!-- Si l'utilisateur n'est pas connecté :  -->
        <li><a href="/login">Connexion</a></li>

        <!-- Si l'utilisateur est connecté :  -->
        <li><a href="/profil">Profil</a></li>
      </ul>
      <div class="overlay">
        <!-- Overlay du menu burger -->
        <div class="close-icon" id="closeIcon">&times;</div>
        <ul class="overlay-content">
          <!-- Liste des liens du menu burger -->
          <li><a href="/">Accueil</a></li>

          <!-- Si l'utilisateur n'est pas connecté :  -->
          <li><a href="/login">Connexion</a></li>

          <!-- Si l'utilisateur est connecté :  -->
          <li><a href="/profil">Profil</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main>
    <!-- Main :  -->

    <section class="hero">
      <!-- Section hero :  -->
      <div class="hero-container">
        <!-- Container du hero :  -->

        <video autoplay muted loop class="video-hero">
          <source src="images/poudlard.mp4" type="video/mp4" />
        </video>
        <div class="hero-intro">
          <div>
            <!-- Div du titre et du sous-titre :  -->
            <p class="hero-title">Bienvenue à Poudlard</p>
            <p class="hero-subtitle">
              L'école de sorcellerie la plus réputée au monde
            </p>
          </div>
          <div>
            <!-- Div de la description et du bouton :  -->
            <p class="hero-description">
              Découvre le monde d'Harry Potter en collectionnant les cartes de
              tes personnages préférés
            </p>
            <a class="button-primary" href="#gallery-section">
              <!-- Bouton de redirection vers gallery de cartes :  -->
              Découvrir
            </a>
          </div>
        </div>
        <div class="hero-container-description">
          <!-- Container de la description :  -->
          <div class="top-boxes">
            <div class="container-description">
              <p>Partage et échange tes cartes avec tes amis</p>
            </div>
            <div class="container-description">
              <p>Partage et échange tes cartes avec tes amis</p>
            </div>
          </div>
          <div class="bottom-boxes">
            <div class="container-description">
              <p>Partage et échange tes cartes avec tes amis</p>
            </div>
            <div class="container-description">
              <p>Partage et échange tes cartes avec tes amis</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Container du bouton de redirection vers la section tirage de cartes :  -->
    <div class="bounce-container">
      <a href="#tirage">
        <div class="bounce" id="bouncebutton">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M5 1v12m0 0 4-4m-4 4L1 9" />
          </svg>
        </div>
      </a>
    </div>

    <div class="exange-button" id="exangeIcon">
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 18">
        <path
          d="M17 0h-5.768a1 1 0 1 0 0 2h3.354L8.4 8.182A1.003 1.003 0 1 0 9.818 9.6L16 3.414v3.354a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1Z" />
        <path
          d="m14.258 7.985-3.025 3.025A3 3 0 1 1 6.99 6.768l3.026-3.026A3.01 3.01 0 0 1 8.411 2H2.167A2.169 2.169 0 0 0 0 4.167v11.666A2.169 2.169 0 0 0 2.167 18h11.666A2.169 2.169 0 0 0 16 15.833V9.589a3.011 3.011 0 0 1-1.742-1.604Z" />
      </svg>
    </div>
    <div class="exange-overlay">
      <div class="close-icon" id="exangeClose">&times;</div>
      <div class="form-exange">
        <form action="" method="post">
          <p class="login-description">Echange de cartes avec un ami
          </p>
          <!-- Formulaire d'échange de cartes :  -->
          <label for="card">Carte à échanger</label>
          <!-- Champ de saisie de la carte à échanger :  -->
          <input type="text" name="card" id="card" placeholder="Carte à échanger" />
          <label for="card">Carte recherchée</label>
          <!-- Champ de saisie de la carte recherchée :  -->
          <input type="text" name="card" id="card" placeholder="Carte recherchée" />
          <label for="username">Joueur avec qui échanger</label>
          <!-- Champ de saisie du nom d'utilisateur du joueur avec qui échanger :  -->
          <input type="text" name="username" id="username" placeholder="Joueur avec qui échanger" />
          <input class="button-primary" type="submit" value="Echanger" />
          <!-- Bouton de validation du formulaire :  -->
        </form>
      </div>
    </div>

    <section class="tirage" id="tirage">
      <!-- Section tirage de cartes :  -->
      <div class="tirage-container">
        <!-- Container du tirage de cartes :  -->
        <p class="tirage-title">
          <!-- Titre de la section :  -->
          Collectionne de nouvelles cartes tous les jours
        </p>
        <div class="container-card-tirage">
          <!-- Container des cartes :  -->
          <div class="card-tirage">
            <!-- Carte :  -->
            <img src="/images/cartes/harrypotter.jpg" alt="Harry Potter" />
          </div>
          <div class="card-tirage">
            <!-- Carte :  -->
            <img src="/images/cartes/hermionegranger.jpg" alt="Hermione Granger" />
          </div>
          <div class="card-tirage">
            <!-- Carte :  -->
            <img src="/images/cartes/ronweasley.jpg" alt="Row Weasley" />
          </div>
          <div class="card-tirage">
            <!-- Carte :  -->
            <img src="/images/cartes/cedricdiggory.jpg" alt="Cedric Diggory" />
          </div>
          <div class="card-tirage">
            <!-- Carte :  -->
            <img src="/images/cartes/albusdumbledore.jpg" alt="Albus Dumbledore" />
          </div>
        </div>
        <a class="button-tirage" href="/draw" id="drawButton">
          <!-- Bouton de tirage de cartes :  -->
          <svg class="swing" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path
              d="M13.3333 2.66663H2.66666C1.93028 2.66663 1.33333 3.26358 1.33333 3.99996V12C1.33333 12.7363 1.93028 13.3333 2.66666 13.3333H13.3333C14.0697 13.3333 14.6667 12.7363 14.6667 12V3.99996C14.6667 3.26358 14.0697 2.66663 13.3333 2.66663Z"
              stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
            <path
              d="M14.6667 4.66663L8.68666 8.46663C8.48084 8.59558 8.24287 8.66397 8 8.66397C7.75712 8.66397 7.51915 8.59558 7.31333 8.46663L1.33333 4.66663"
              stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          <!-- Si l'utilisateur n'est pas connecté :  -->
          <span class="button-text">Connecte toi pour collecter de nouvelles cartes</span>
        </a>
      </div>
    </section>

    <section class="infos">
      <!-- Section infos :  -->
      <p>
        <!-- Titre de la section :  -->
        Tu peux suivre les nouveautés de la plateforme sur les réseaux sociaux
      </p>
      <div class="socials-medias">
        <!-- Container des réseaux sociaux :  -->
        <a href="https://www.instagram.com/">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path
              d="M16 18.8C14.5 18.8 13.2 17.6 13.2 16C13.2 14.5 14.4 13.2 16 13.2C17.5 13.2 18.8 14.4 18.8 16C18.8 17.5 17.5 18.8 16 18.8Z"
              fill="white" />
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M19.4 9.2H12.6C11.8 9.3 11.4 9.4 11.1 9.5C10.7 9.6 10.4 9.8 10.1 10.1C9.86261 10.3374 9.75045 10.5748 9.61489 10.8617C9.57916 10.9373 9.5417 11.0166 9.5 11.1C9.48453 11.1464 9.46667 11.1952 9.44752 11.2475C9.34291 11.5333 9.2 11.9238 9.2 12.6V19.4C9.3 20.2 9.4 20.6 9.5 20.9C9.6 21.3 9.8 21.6 10.1 21.9C10.3374 22.1374 10.5748 22.2495 10.8617 22.3851C10.9374 22.4209 11.0165 22.4583 11.1 22.5C11.1464 22.5155 11.1952 22.5333 11.2475 22.5525C11.5333 22.6571 11.9238 22.8 12.6 22.8H19.4C20.2 22.7 20.6 22.6 20.9 22.5C21.3 22.4 21.6 22.2 21.9 21.9C22.1374 21.6626 22.2495 21.4252 22.3851 21.1383C22.4209 21.0626 22.4583 20.9835 22.5 20.9C22.5155 20.8536 22.5333 20.8048 22.5525 20.7525C22.6571 20.4667 22.8 20.0762 22.8 19.4V12.6C22.7 11.8 22.6 11.4 22.5 11.1C22.4 10.7 22.2 10.4 21.9 10.1C21.6626 9.86261 21.4252 9.75045 21.1383 9.61488C21.0627 9.57918 20.9833 9.54167 20.9 9.5C20.8536 9.48453 20.8048 9.46666 20.7525 9.44752C20.4667 9.3429 20.0762 9.2 19.4 9.2ZM16 11.7C13.6 11.7 11.7 13.6 11.7 16C11.7 18.4 13.6 20.3 16 20.3C18.4 20.3 20.3 18.4 20.3 16C20.3 13.6 18.4 11.7 16 11.7ZM21.4 11.6C21.4 12.1523 20.9523 12.6 20.4 12.6C19.8477 12.6 19.4 12.1523 19.4 11.6C19.4 11.0477 19.8477 10.6 20.4 10.6C20.9523 10.6 21.4 11.0477 21.4 11.6Z"
              fill="white" />
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M0 5C0 2.23858 2.23858 0 5 0H27C29.7614 0 32 2.23858 32 5V27C32 29.7614 29.7614 32 27 32H5C2.23858 32 0 29.7614 0 27V5ZM12.6 7.7H19.4C20.3 7.8 20.9 7.9 21.4 8.1C22 8.4 22.4 8.6 22.9 9.1C23.4 9.6 23.7 10.1 23.9 10.6C24.1 11.1 24.3 11.7 24.3 12.6V19.4C24.2 20.3 24.1 20.9 23.9 21.4C23.6 22 23.4 22.4 22.9 22.9C22.4 23.4 21.9 23.7 21.4 23.9C20.9 24.1 20.3 24.3 19.4 24.3H12.6C11.7 24.2 11.1 24.1 10.6 23.9C10 23.6 9.6 23.4 9.1 22.9C8.6 22.4 8.3 21.9 8.1 21.4C7.9 20.9 7.7 20.3 7.7 19.4V12.6C7.8 11.7 7.9 11.1 8.1 10.6C8.4 10 8.6 9.6 9.1 9.1C9.6 8.6 10.1 8.3 10.6 8.1C11.1 7.9 11.7 7.7 12.6 7.7Z"
              fill="white" />
          </svg>
        </a>
        <a href="https://twitter.com/">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M0 5C0 2.23858 2.23858 0 5 0H27C29.7614 0 32 2.23858 32 5V27C32 29.7614 29.7614 32 27 32H5C2.23858 32 0 29.7614 0 27V5ZM22.1 11.5C22.8 11.4 23.4 11.3 24 11C23.6 11.7 23 12.3 22.3 12.7C22.5 17.4 19.1 22.5 13 22.5C11.2 22.5 9.5 21.9 8 21C9.7 21.2 11.5 20.7 12.7 19.8C11.2 19.8 10 18.8 9.6 17.5C10.1 17.6 10.6 17.5 11.1 17.4C9.6 17 8.5 15.6 8.5 14.1C9 14.3 9.5 14.5 10 14.5C8.6 13.5 8.1 11.6 9 10.1C10.7 12.1 13.1 13.4 15.8 13.5C15.3 11.5 16.9 9.5 19 9.5C19.9 9.5 20.8 9.9 21.4 10.5C22.2 10.3 22.9 10.1 23.5 9.7C23.3 10.5 22.8 11.1 22.1 11.5Z"
              fill="white" />
          </svg>
        </a>
      </div>
    </section>

    <section class="gallery-section">
      <!-- Section gallery de cartes :  -->
      <div class="container-gallery" id="gallery-section">
        <!-- Container de la gallery de cartes :  -->
        <div class="left-gallery">
          <!-- Container de la partie gauche de la gallery de cartes :  -->
          <p class="left-gallery-title">MAISONS</p>
          <div class="search-container">
            <!-- Container de la barre de recherche :  -->
            <input type="text" id="search" placeholder="Search for names.." />
            <button type="submit">
              <svg class="loop-search" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="transparent"
                viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
              </svg>
            </button>
          </div>
          <div class="filter-container">
            <!-- Container des filtres :  -->
            <div class="filter-button" id="filterType">
              <!-- Container des filtres par type :  -->
              <button id="filterAll" class="select">Tous</button>
              <button id="filterGryffondor" class="unselect">
                Gryffondor
              </button>
              <button id="filterPoufsouffle" class="unselect">
                Poufsouffle
              </button>
              <button id="filterSerdaigle" class="unselect">Serdaigle</button>
              <button id="filterSerpentard" class="unselect">
                Serpentard
              </button>
            </div>
          </div>
        </div>
        <div class="right-gallery">
          <!-- Container de la partie droite de la gallery de cartes :  -->
          <div class="gallery" id="gallery">
            <!-- Boucle pour afficher les cartes :  -->
            <!-- <div class="gallery-item" data-type="<%= cards[i].house %>" data-id="<%= cards[i].altText %>">
                <img class="gallery-image" src="<%= cards[i].image %>" alt="<%= cards[i].altText %>" />
                <div class="interaction-card"> -->
            <!-- <div class="button-card">
                    <svg class="like-button" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                      viewBox="0 0 21 19">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M11 4C5.5-1.5-1.5 5.5 4 11l7 7 7-7c5.458-5.458-1.542-12.458-7-7Z" />
                    </svg>
                  </div> -->
            <!-- <div class="button-card">
                    Read More
                  </div>
                </div>
              </div> -->
            <!-- <div class="gallery-item" data-type="Gryffondor" data-id="albusdumbledore">
                <img class="gallery-image" src="images/cartes/albusdumbledore.jpg" alt="albusdumbledore" />
                <div class="interaction-card">
                  <div class="button-card">
                    Read More
                  </div>
                </div> -->
          </div>
        </div>
      </div>
      </div>
    </section>
  </main>

  <footer class="footer-container">
    <div class="footer-content">
      <a href="#header">
        <!-- Bouton de retour en haut de page :  -->
        <div class="footer-backtop">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M13.2071 8C12.832 7.62506 12.3234 7.41443 11.7931 7.41443C11.2628 7.41443 10.7541 7.62506 10.3791 8L4.79309 13.586C4.51347 13.8657 4.32306 14.222 4.24593 14.6099C4.16879 14.9978 4.2084 15.3999 4.35974 15.7653C4.51108 16.1307 4.76736 16.443 5.09618 16.6628C5.425 16.8826 5.81159 16.9999 6.20709 17H17.3791C17.7746 16.9999 18.1612 16.8826 18.49 16.6628C18.8188 16.443 19.0751 16.1307 19.2264 15.7653C19.3778 15.3999 19.4174 14.9978 19.3403 14.6099C19.2631 14.222 19.0727 13.8657 18.7931 13.586L13.2071 8Z"
              fill="white" />
          </svg>
        </div>
      </a>

      <span>© 2023 <a href="#">Harry Potter Game</a> - Tous droits réservés</span>
    </div>
    <ul>
      <li><a href="#">Mentions légales</a></li>
      <li><a href="#">Politique de confidentialité</a></li>
    </ul>
  </footer>


</body>


<script src="js/script.js" defer></script>

<script defer>
  fetch("http://localhost:3000/cards")
    .then((response) => response.json())
    .then((data) => {
      console.log(data);
      let gallery = document.getElementById("gallery");

      for (let i = 0; i < data.length; i++) {
        gallery.innerHTML += 
        `
          <div class="gallery-item" data-type="${data[i].house}" data-id="${data[i].altText}">
            <img class="gallery-image" src="${data[i].image}" alt="${data[i].altText}" />
            <div class="interaction-card">
              <div class="button-card">
                Read More
              </div>
            </div>
          </div>
        `;
      }

      const galleryItems = document.querySelectorAll(".gallery-item");
      const searchInput = document.getElementById("search");

      searchInput.addEventListener("input", function () {
        const searchValue = searchInput.value.trim().toLowerCase();

        galleryItems.forEach(function (item) {
          
          const dataId = item.getAttribute("data-id");

          // Vérifiez si l'attribut data-id est null ou non
          if (dataId !== null) {
            const lowerCaseDataId = dataId.toLowerCase(); // Convertissez la valeur de l'attribut data-id en minuscules
            if (lowerCaseDataId.includes(searchValue)) {
              item.style.display = "block";
            } else {
              item.style.display = "none";
            }
          } else {
            // Si l'attribut data-id est null, affichez un message dans la console pour le signaler
            console.log("Missing data-id attribute");
          }
        });
      });
    })
    .catch((error) => {
      console.error("Error fetching data:", error);
      // Gérez l'erreur ici, affichez un message d'erreur ou effectuez une action en conséquence.
    });
</script>

</html>