<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Settings</title>
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="stylesheet" href="styles/profil.css" />
    <link rel="stylesheet" href="styles/layout.css" />
    <link rel="stylesheet" href="styles/authentification.css" />
</head>

<body>

    <header id="header"> <!-- Header :  -->
        <nav> <!-- Navigation :  -->
            <a href="/">
                <img class="logo" src="/images/logo.png" alt="Harry Potter Logo" />
                <!-- Logo avec lien vers la page d'accueil -->
            </a>
            <div class="menu-icon" id="menuIcon"> &#9776;</div> <!-- Icone du menu burger -->
            <ul class="nav-links"> <!-- Liste des liens de la navigation -->
                <li><a href="/profil">Profil</a></li>
            </ul>
            <div class="overlay"> <!-- Overlay du menu burger -->
                <div class="close-icon" id="closeIcon">&times;</div>
                <ul class="overlay-content"> <!-- Liste des liens du menu burger -->
                    <li><a href="/">Accueil</a></li>
                    <li><a href="/profil">Profil</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="profile-section">
            <div class="log-container"> <!-- Container du formulaire de login -->
                <div class="form-container"> <!-- Formulaire de login -->
                    <form action="/changeinfos" method="post" id="form">
                        
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer-container"> <!-- Footer :  -->
        <div class="footer-content"> <!-- Contenu du footer :  -->
            <a href="#header"> <!-- Bouton de retour en haut de page :  -->
                <div class="footer-backtop"> <!-- Bouton de retour en haut de page :  -->
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M13.2071 8C12.832 7.62506 12.3234 7.41443 11.7931 7.41443C11.2628 7.41443 10.7541 7.62506 10.3791 8L4.79309 13.586C4.51347 13.8657 4.32306 14.222 4.24593 14.6099C4.16879 14.9978 4.2084 15.3999 4.35974 15.7653C4.51108 16.1307 4.76736 16.443 5.09618 16.6628C5.425 16.8826 5.81159 16.9999 6.20709 17H17.3791C17.7746 16.9999 18.1612 16.8826 18.49 16.6628C18.8188 16.443 19.0751 16.1307 19.2264 15.7653C19.3778 15.3999 19.4174 14.9978 19.3403 14.6099C19.2631 14.222 19.0727 13.8657 18.7931 13.586L13.2071 8Z"
                            fill="white" />
                    </svg>
                </div>
            </a>

            <span>© 2023 <a href="#">Harry Potter Game</a> - Tous droits réservés</span> <!-- Texte du footer :  -->
        </div>
        <ul> <!-- Liste des liens du footer :  -->
            <li><a href="#">Mentions légales</a></li>
        </ul>
    </footer>

</body>
<script src="js/script.js" defer></script>
<script >
    fetch('http://localhost:3000/getuserinfos')
        .then(response => {
                if (!response.ok) { // si la réponse ne se situe pas entre 200 et 299
                    throw new Error('Network response was not ok.'); 
                }
                return response.json(); 
            })
        .then(data => { // data contient le JSON renvoyé par le serveur
            console.log(data) 
            let formContainer = document.querySelector('#form'); // sélectionner le formulaire
            formContainer.innerHTML += ` 
                <p class="login-description">Modification des informations</p>
                <label for="email">Email</label>
                <input type="email" name="email" id="email" placeholder="${data.email}">
                <label for="username">Nom d'utilisateur</label>
                <input type="text" name="username" id="username" placeholder="${data.username}">
                <label for="name">Nom</label>
                <input type="text" name="name" id="name" placeholder="${data.name}">
                <label for="password">Mot de passe</label>
                <input type="password" name="password" id="password" placeholder="Modification du mot de passe">
                <label for="nextDraw">Prochain tirage</label>
                <input type="text" name="nextDraw" id="nextDraw" placeholder="${data.hoursLeft} heures ${data.minutesLeft} minutes" disabled>
                <input class="button-input" type="submit" value="Modification">
                
            `
        })
        .catch(error => console.log(error))
    
</script>

</html>